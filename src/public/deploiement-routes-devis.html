<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸš€ DÃ©ploiement Routes Devis</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #0C0C0C 0%, #1a1a1a 100%);
      color: #F4F4F4;
      line-height: 1.6;
      padding: 20px;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      padding: 40px 20px;
      background: linear-gradient(135deg, #CCFF00 0%, #C6FF1A 100%);
      border-radius: 20px;
      margin-bottom: 40px;
      box-shadow: 0 10px 40px rgba(204, 255, 0, 0.3);
    }

    .header h1 {
      font-size: 3em;
      color: #0C0C0C;
      margin-bottom: 10px;
    }

    .header p {
      font-size: 1.2em;
      color: #0C0C0C;
      opacity: 0.9;
    }

    .alert {
      background: #ff4444;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      border-left: 5px solid #cc0000;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }

    .alert h2 {
      color: white;
      margin-bottom: 10px;
      font-size: 1.5em;
    }

    .card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(204, 255, 0, 0.2);
      border-radius: 15px;
      padding: 30px;
      margin-bottom: 30px;
      backdrop-filter: blur(10px);
    }

    .card h2 {
      color: #CCFF00;
      margin-bottom: 20px;
      font-size: 1.8em;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .step {
      background: rgba(204, 255, 0, 0.1);
      border-left: 4px solid #CCFF00;
      padding: 20px;
      margin: 20px 0;
      border-radius: 10px;
    }

    .step-number {
      display: inline-block;
      background: #CCFF00;
      color: #0C0C0C;
      width: 40px;
      height: 40px;
      line-height: 40px;
      text-align: center;
      border-radius: 50%;
      font-weight: bold;
      margin-right: 15px;
      font-size: 1.2em;
    }

    .step h3 {
      display: inline-block;
      color: #CCFF00;
      margin-bottom: 10px;
      font-size: 1.3em;
    }

    .step p, .step ol, .step ul {
      margin-left: 55px;
      margin-top: 10px;
      color: #e0e0e0;
    }

    .step ol li, .step ul li {
      margin: 10px 0;
      padding-left: 10px;
    }

    .code-block {
      background: #1a1a1a;
      border: 1px solid #CCFF00;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      color: #CCFF00;
    }

    .success-box {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      color: white;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      text-align: center;
      font-size: 1.2em;
    }

    .error-box {
      background: linear-gradient(135deg, #ff5252 0%, #ff1744 100%);
      color: white;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
    }

    .button {
      display: inline-block;
      background: #CCFF00;
      color: #0C0C0C;
      padding: 15px 30px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: bold;
      margin: 10px;
      transition: transform 0.2s, box-shadow 0.2s;
      font-size: 1.1em;
    }

    .button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(204, 255, 0, 0.4);
    }

    .checklist {
      list-style: none;
      padding: 0;
    }

    .checklist li {
      padding: 15px;
      margin: 10px 0;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      border-left: 4px solid transparent;
    }

    .checklist li:hover {
      background: rgba(204, 255, 0, 0.1);
      border-left-color: #CCFF00;
    }

    .checklist li::before {
      content: 'â˜';
      margin-right: 15px;
      font-size: 1.5em;
      color: #CCFF00;
    }

    .checklist li.checked::before {
      content: 'âœ…';
    }

    .routes-list {
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
    }

    .route-item {
      margin: 15px 0;
      padding: 15px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border-left: 3px solid #CCFF00;
    }

    .route-method {
      display: inline-block;
      padding: 5px 12px;
      border-radius: 5px;
      font-weight: bold;
      margin-right: 10px;
      font-size: 0.9em;
    }

    .route-method.get { background: #61affe; color: white; }
    .route-method.post { background: #49cc90; color: white; }
    .route-method.put { background: #fca130; color: white; }
    .route-method.delete { background: #f93e3e; color: white; }

    .footer {
      text-align: center;
      padding: 40px 20px;
      border-top: 1px solid rgba(204, 255, 0, 0.2);
      margin-top: 60px;
      color: #888;
    }

    @media (max-width: 768px) {
      .header h1 { font-size: 2em; }
      .card { padding: 20px; }
      .step p, .step ol { margin-left: 0; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>ðŸš€ DÃ©ploiement Routes Devis</h1>
      <p>Guide visuel pour activer les fonctionnalitÃ©s de crÃ©ation de devis</p>
    </div>

    <!-- Alert Box -->
    <div class="alert">
      <h2>âš ï¸ ACTION REQUISE IMMÃ‰DIATEMENT</h2>
      <p style="font-size: 1.1em;">Les routes pour les devis ont Ã©tÃ© ajoutÃ©es au code mais <strong>DOIVENT ÃŠTRE DÃ‰PLOYÃ‰ES</strong> sur Supabase pour fonctionner ! Sans ce dÃ©ploiement, vous aurez une erreur 404 lors de la crÃ©ation de devis.</p>
    </div>

    <!-- Routes ajoutÃ©es -->
    <div class="card">
      <h2>ðŸ“‹ Routes AjoutÃ©es</h2>
      <div class="routes-list">
        <div class="route-item">
          <span class="route-method get">GET</span>
          <code>/make-server-04919ac5/quotes</code>
          <p style="margin-top: 8px; color: #aaa;">RÃ©cupÃ©rer tous les devis</p>
        </div>
        <div class="route-item">
          <span class="route-method post">POST</span>
          <code>/make-server-04919ac5/quotes</code>
          <p style="margin-top: 8px; color: #aaa;">CrÃ©er un nouveau devis</p>
        </div>
        <div class="route-item">
          <span class="route-method put">PUT</span>
          <code>/make-server-04919ac5/quotes/:id</code>
          <p style="margin-top: 8px; color: #aaa;">Modifier un devis existant</p>
        </div>
        <div class="route-item">
          <span class="route-method delete">DELETE</span>
          <code>/make-server-04919ac5/quotes/:id</code>
          <p style="margin-top: 8px; color: #aaa;">Supprimer un devis</p>
        </div>
        <div class="route-item">
          <span class="route-method post">POST</span>
          <code>/make-server-04919ac5/quotes/:id/convert</code>
          <p style="margin-top: 8px; color: #aaa;">Convertir un devis acceptÃ© en facture</p>
        </div>
        <div class="route-item">
          <span class="route-method post">POST</span>
          <code>/make-server-04919ac5/quotes/:id/send-reminder</code>
          <p style="margin-top: 8px; color: #aaa;">Envoyer un email de rappel au client</p>
        </div>
      </div>
    </div>

    <!-- Ã‰tapes de dÃ©ploiement -->
    <div class="card">
      <h2>ðŸŽ¯ Ã‰tapes de DÃ©ploiement</h2>

      <div class="step">
        <span class="step-number">1</span>
        <h3>Ouvrir Supabase Dashboard</h3>
        <ol>
          <li>Allez sur : <a href="https://supabase.com/dashboard" target="_blank" style="color: #CCFF00;">https://supabase.com/dashboard</a></li>
          <li>Connectez-vous Ã  votre compte</li>
          <li>SÃ©lectionnez votre projet <strong>ptcxeqtjlxittxayffgu</strong></li>
        </ol>
        <div style="text-align: center; margin-top: 20px;">
          <a href="https://supabase.com/dashboard" target="_blank" class="button">
            ðŸŒ Ouvrir Supabase Dashboard
          </a>
        </div>
      </div>

      <div class="step">
        <span class="step-number">2</span>
        <h3>AccÃ©der aux Edge Functions</h3>
        <ol>
          <li>Dans le menu latÃ©ral gauche, cliquez sur <strong>"Edge Functions"</strong></li>
          <li>Vous verrez la fonction <strong>"make-server-04919ac5"</strong></li>
        </ol>
      </div>

      <div class="step">
        <span class="step-number">3</span>
        <h3>Ouvrir l'Ã©diteur</h3>
        <ol>
          <li>Cliquez sur le nom de la fonction <strong>"make-server-04919ac5"</strong></li>
          <li>Vous verrez le code actuel dÃ©ployÃ©</li>
        </ol>
      </div>

      <div class="step">
        <span class="step-number">4</span>
        <h3>Copier le nouveau code</h3>
        <ol>
          <li>Ouvrez le fichier <code>/supabase/functions/server/index.tsx</code> dans votre Ã©diteur local</li>
          <li>SÃ©lectionnez <strong>TOUT LE CONTENU</strong> du fichier (Ctrl+A ou Cmd+A)</li>
          <li>Copiez tout (Ctrl+C ou Cmd+C)</li>
        </ol>
      </div>

      <div class="step">
        <span class="step-number">5</span>
        <h3>Remplacer le code</h3>
        <ol>
          <li>Dans l'Ã©diteur Supabase, <strong>sÃ©lectionnez tout le code existant</strong></li>
          <li><strong>Supprimez-le</strong></li>
          <li><strong>Collez le nouveau code</strong> copiÃ© de votre fichier local</li>
        </ol>
      </div>

      <div class="step">
        <span class="step-number">6</span>
        <h3>DÃ©ployer</h3>
        <ol>
          <li>Cliquez sur le bouton <strong>"Deploy"</strong> (en haut Ã  droite)</li>
          <li>Attendez que le dÃ©ploiement se termine (quelques secondes)</li>
          <li>Vous devriez voir un message de succÃ¨s âœ…</li>
        </ol>
      </div>
    </div>

    <!-- VÃ©rification -->
    <div class="card">
      <h2>âœ… VÃ©rification</h2>

      <div style="background: rgba(204, 255, 0, 0.1); padding: 20px; border-radius: 10px; margin: 20px 0;">
        <h3 style="color: #CCFF00; margin-bottom: 15px;">Tester que Ã§a fonctionne</h3>
        <ol>
          <li><strong>Rechargez votre application web</strong></li>
          <li>Allez dans le <strong>Dashboard CRM</strong></li>
          <li>Cliquez sur l'onglet <strong>"Devis"</strong></li>
          <li>Cliquez sur <strong>"Nouveau devis"</strong></li>
          <li>Remplissez le formulaire en 3 Ã©tapes</li>
          <li>Cliquez sur <strong>"CrÃ©er le devis"</strong></li>
        </ol>
      </div>

      <div class="success-box">
        <strong>âœ… RÃ©sultat attendu</strong><br>
        Le devis devrait se crÃ©er sans erreur 404<br>
        Un toast de succÃ¨s devrait apparaÃ®tre<br>
        Le dialogue devrait se fermer<br>
        La liste des devis devrait se mettre Ã  jour automatiquement
      </div>

      <div class="error-box">
        <strong>âŒ Si vous avez encore une erreur 404</strong>
        <ul style="margin-top: 15px; text-align: left;">
          <li>VÃ©rifiez que vous avez bien dÃ©ployÃ© le code sur Supabase</li>
          <li>VÃ©rifiez l'URL dans la console du navigateur (F12)</li>
          <li>Attendez quelques secondes et rÃ©essayez (le dÃ©ploiement peut prendre un moment)</li>
          <li>Videz le cache du navigateur (Ctrl+Shift+R ou Cmd+Shift+R)</li>
        </ul>
      </div>
    </div>

    <!-- Checklist -->
    <div class="card">
      <h2>ðŸ“ Checklist de DÃ©ploiement</h2>
      <ul class="checklist" id="checklist">
        <li onclick="toggleCheck(this)">Code copiÃ© depuis /supabase/functions/server/index.tsx</li>
        <li onclick="toggleCheck(this)">Code collÃ© dans l'Ã©diteur Supabase</li>
        <li onclick="toggleCheck(this)">Bouton "Deploy" cliquÃ©</li>
        <li onclick="toggleCheck(this)">Message de succÃ¨s reÃ§u</li>
        <li onclick="toggleCheck(this)">Application web rechargÃ©e</li>
        <li onclick="toggleCheck(this)">Test de crÃ©ation d'un devis effectuÃ©</li>
        <li onclick="toggleCheck(this)">Aucune erreur 404 âœ…</li>
      </ul>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p><strong>ðŸŽ‰ Une fois dÃ©ployÃ©, le systÃ¨me de devis sera pleinement fonctionnel !</strong></p>
      <p style="margin-top: 20px;">Date de crÃ©ation : 10 novembre 2024 | Version : 1.0.0</p>
    </div>
  </div>

  <script>
    function toggleCheck(element) {
      element.classList.toggle('checked');
      
      // Check if all items are checked
      const checklist = document.getElementById('checklist');
      const items = checklist.getElementsByTagName('li');
      let allChecked = true;
      
      for (let item of items) {
        if (!item.classList.contains('checked')) {
          allChecked = false;
          break;
        }
      }
      
      if (allChecked) {
        alert('ðŸŽ‰ FÃ©licitations ! Vous avez complÃ©tÃ© toutes les Ã©tapes de dÃ©ploiement !\n\nVous pouvez maintenant crÃ©er vos premiers devis professionnels !');
      }
    }
  </script>
</body>
</html>
